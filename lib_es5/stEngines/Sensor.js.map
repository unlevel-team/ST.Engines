{"version":3,"sources":["stEngines/Sensor.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;AAUA,IAAI,eAAe,QAAQ,QAAR,EAAkB,YAArC;;AAEA,IAAM,mBAAmB;;AAExB,WAAW;AACV,0BAAyB;AADf;AAFa,CAAzB;;;;;;IAWM,M;AAEL,iBAAY,MAAZ,EAAoB;AAAA;;AAEnB,OAAK,MAAL,GAAc,MAAd;AACA,OAAK,SAAL,GAAiB,gBAAjB;AACA,OAAK,YAAL,GAAoB,IAAI,YAAJ,EAApB;AACA,OAAK,YAAL,GAAoB,IAApB;AAEA;;;;+BAGY;;AAEZ,OAAI,SAAS,IAAb;;;;AAIA,OAAI,OAAO,MAAP,CAAc,OAAd,CAAsB,eAAtB,KAA0C,SAA1C,IACF,OAAO,MAAP,CAAc,OAAd,CAAsB,eAAtB,KAA0C,IAD5C,EACkD;;AAEjD,WAAO,aAAP,GAAuB,IAAvB;;AAEA,QAAI;AACH,YAAO,aAAP,GAAuB,QAAQ,OAAO,MAAP,CAAc,OAAd,CAAsB,eAA9B,CAAvB;AACA,YAAO,YAAP,GAAsB,IAAI,OAAO,aAAX,CAAyB,OAAO,MAAhC,CAAtB;AACA,YAAO,YAAP,CAAoB,UAApB;AAEA,KALD,CAKE,OAAO,CAAP,EAAU;;AAET,aAAQ,GAAR,CAAY,yBAAZ,E;AACA,aAAQ,GAAR,CAAY,CAAZ,E;AACA,aAAQ,GAAR,CAAY,OAAO,MAAnB,E;AAEF;AACD;;;AAGD,OAAI,OAAO,MAAP,CAAc,OAAd,CAAsB,YAAtB,KAAuC,SAAvC,IACF,OAAO,MAAP,CAAc,OAAd,CAAsB,YAAtB,KAAuC,IADzC,EAC+C,CAG9C;AAGD;;;;;;;;+BAMW;;AAEX,OAAI,SAAS,IAAb;;AAEA,OAAI,gBAAgB;AAClB,gBAAa,OAAO,MAAP,CAAc,QADT;AAElB,uBAAmB,OAAO,MAAP,CAAc,OAAd,CAAsB;;AAFvB,IAApB;;AAMA,OAAK,OAAO,YAAP,KAAwB,IAA7B,EAAoC;AACnC,kBAAc,aAAd,GAA8B,OAAO,YAAP,CAAoB,UAApB,EAA9B;AACA;;AAGD,UAAO,aAAP;AACA;;;;;;;;6BAMU,O,EAAQ;;AAElB,OAAI,SAAS,IAAb;;AAEA,OAAI,OAAO,YAAP,IACF,OAAO,YAAP,CAAoB,KAApB,KAA8B,OAAO,YAAP,CAAoB,SAApB,CAA8B,MAA9B,CAAqC,eADrE,EACsF;AACrF,UAAM,mBAAN;AACA;;AAED,OAAI,QAAQ,QAAZ,EAAsB;AACrB,WAAO,MAAP,CAAc,QAAd,GAAyB,QAAQ,QAAjC;AACA;;AAED,OAAI,QAAQ,aAAZ,EAA2B;AAC1B,WAAO,YAAP,CAAoB,UAApB,CAA+B,QAAQ,aAAvC;AACA;;;AAGD,UAAO,YAAP,CAAoB,IAApB,CAAyB,OAAO,SAAP,CAAiB,MAAjB,CAAwB,oBAAjD,EAAuE,EAAC,UAAU,MAAX,EAAvE;AAEA;;;;;;AAOF,OAAO,OAAP,GAAiB,MAAjB","file":"stEngines/Sensor.js","sourcesContent":["\"use strict\";\r\n\r\n/**\r\n * Actuator\r\n * \r\n * Generic object for a Sensor\r\n * \r\n */\r\n\r\n\r\nlet EventEmitter = require('events').EventEmitter;\r\n\r\nconst Sensor_CONSTANTS = {\r\n\t\r\n\t\"Events\" : {\r\n\t\t\"SensorOptionsUpdated\" : \"Sensor Options Updated\"\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Sensor\r\n */\r\nclass Sensor {\r\n\t\r\n\tconstructor(config) {\r\n\t\t\r\n\t\tthis.config = config;\r\n\t\tthis.CONSTANTS = Sensor_CONSTANTS;\r\n\t\tthis.eventEmitter = new EventEmitter();\r\n\t\tthis.sensorEngine = null;\r\n\r\n\t}\r\n\t\r\n\t\r\n\tinitialize() {\r\n\t\t\r\n\t\tlet sensor = this;\r\n\t\t\r\n\t\t// ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ _ ~~~ - ~~~ - ~~~ - ~~~ _ ~~~ - ~~~ - ~~~ \\/ ~~~\r\n\t\t// Sensor Engine URL \r\n\t\tif (sensor.config.options.sensorEngineURL !== undefined && \r\n\t\t\t\tsensor.config.options.sensorEngineURL !== null) {\r\n\t\t\t\r\n\t\t\tsensor._sensorEngine = null;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tsensor._sensorEngine = require(sensor.config.options.sensorEngineURL);\r\n\t\t\t\tsensor.sensorEngine = new sensor._sensorEngine(sensor.config);\r\n\t\t\t\tsensor.sensorEngine.initialize();\r\n\t\t\t\t\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\t  console.log('<EEE> Sensor.initialize');\t// TODO REMOVE DEBUG LOG\r\n\t\t\t\t  console.log(e);\t// TODO REMOVE DEBUG LOG\r\n\t\t\t\t  console.log(sensor.config);\t// TODO REMOVE DEBUG LOG\r\n\r\n\t\t\t}\r\n\t\t} \r\n\t\t// ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ _ ~~~ - ~~~ - ~~~ - ~~~ _ ~~~ - ~~~ - ~~~ /\\ ~~~\r\n\t\t\r\n\t\tif (sensor.config.options.sensorEngine !== undefined && \r\n\t\t\t\tsensor.config.options.sensorEngine !== null) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get sensor options\r\n\t */\r\n\tgetOptions(){\r\n\t\t\r\n\t\tlet sensor = this;\r\n\t\t\r\n\t\tlet sensorOptions = {\r\n\t\t\t\t\"loopTime\" : sensor.config.loopTime,\r\n\t\t\t\t\"sensorEngineURL\": sensor.config.options.sensorEngineURL\r\n\t\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\tif ( sensor.sensorEngine !== null ) {\r\n\t\t\tsensorOptions.engineOptions = sensor.sensorEngine.getOptions();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn sensorOptions;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Set sensor options\r\n\t */\r\n\tsetOptions(options){\r\n\t\t\r\n\t\tlet sensor = this;\r\n\t\t\r\n\t\tif (sensor.sensorEngine && \r\n\t\t\t\tsensor.sensorEngine.state === sensor.sensorEngine.CONSTANTS.States.SEstate_Working) {\r\n\t\t\tthrow \"Bad sensor state.\";\r\n\t\t}\r\n\t\t\r\n\t\tif (options.loopTime) {\r\n\t\t\tsensor.config.loopTime = options.loopTime;\r\n\t\t}\r\n\t\t\r\n\t\tif (options.engineOptions) {\r\n\t\t\tsensor.sensorEngine.setOptions(options.engineOptions);\r\n\t\t}\r\n\t\t\r\n\t\t// Emit event SensorOptionsUpdated\r\n\t\tsensor.eventEmitter.emit(sensor.CONSTANTS.Events.SensorOptionsUpdated, {\"sensor\": sensor});\r\n\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n\r\n\r\nmodule.exports = Sensor;\r\n"],"sourceRoot":"C:\\Users\\Felipe\\Documents\\Work\\SomeThings\\dev\\NLVL_STEngines\\es6"}