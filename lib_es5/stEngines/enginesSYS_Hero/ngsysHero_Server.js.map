{"version":3,"sources":["stEngines/enginesSYS_Hero/ngsysHero_Server.js"],"names":[],"mappings":"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","file":"stEngines/enginesSYS_Hero/ngsysHero_Server.js","sourcesContent":["\"use strict\";\r\n\r\n/*\r\n SomeThings Engines System library\r\n \r\n version Hero\r\n for Server\r\n\r\n*/\r\n\r\n\r\n/**\r\n * Import Sensor\r\n * @ignore\r\n */\r\nlet Sensor = require('../Sensor.js');\r\n\r\n/**\r\n * Import SensorEngine\r\n * @ignore\r\n */\r\nlet SensorEngine = require('../SensorEngine.js').SensorEngine;\r\n\r\n/**\r\n * Import SensorsManager_CONSTANTS\r\n * @ignore\r\n */\r\nlet SensorsManager_CONSTANTS = require('../services/SensorsManager.js').CONSTANTS;\r\n\r\n/**\r\n * Import SensorsManager\r\n * @ignore\r\n */\r\nlet SensorsManager = require('../services/SensorsManager.js').SensorsManager;\r\n\r\n/**\r\n * Import SensorsServices_CONSTANTS\r\n * @ignore\r\n */\r\nlet SensorsServices_CONSTANTS = require('../services/SensorsServices.js').SensorsServices_CONSTANTS;\r\n\r\n/**\r\n * Import NGSYS_Hero_Server_SensorsSRV\r\n * @ignore\r\n */\r\nlet NGSYS_Hero_Server_SensorsSRV = require('./ngsysHero_ServerSensorsSRV.js').NGSYS_Hero_Server_SensorsSRV;\r\n\r\n\r\n/**\r\n * Import Actuator\r\n * @ignore\r\n */\r\nlet Actuator = require('../Actuator.js');\r\n\r\n/**\r\n * Import ActuatorEngine\r\n * @ignore\r\n */\r\nlet ActuatorEngine = require('../ActuatorEngine.js').ActuatorEngine;\r\n\r\n/**\r\n * Import ActuatorsManager_CONSTANTS\r\n * @ignore\r\n */\r\nlet ActuatorsManager_CONSTANTS = require('../services/ActuatorsManager.js').CONSTANTS;\r\n\r\n/**\r\n * Import ActuatorsManager\r\n * @ignore\r\n */\r\nlet ActuatorsManager = require('../services/ActuatorsManager.js').ActuatorsManager;\r\n\r\n/**\r\n * Import ActuatorsServices_CONSTANTS\r\n * @ignore\r\n */\r\nlet ActuatorsServices_CONSTANTS = require('../services/ActuatorsServices.js').ActuatorsServices_CONSTANTS;\r\n\r\n/**\r\n * Import NGSYS_Hero_Server_ActuatorsSRV\r\n * @ignore\r\n */\r\nlet NGSYS_Hero_Server_ActuatorsSRV = require('./ngsysHero_ServerActuatorsSRV.js').NGSYS_Hero_Server_ActuatorsSRV;\r\n\r\n\r\n/**\r\n * Import NGSystem_Hero_Lib\r\n * @ignore\r\n */\r\nlet NGSystem_Hero_Lib = require('./enginesSYS_Hero.js');\r\n\r\n/**\r\n * Import NGSystem_Hero_CONSTANTS\r\n * @ignore\r\n */\r\nlet NGSystem_Hero_CONSTANTS = NGSystem_Hero_Lib.NGSystem_Hero_CONSTANTS;\r\n\r\n/**\r\n * Import NGSystem_Hero\r\n * @ignore\r\n */\r\nlet NGSystem_Hero = NGSystem_Hero_Lib.NGSystem_Hero;\r\n\r\n\r\n\r\n/**\r\n * Sensor engine reference\r\n * \r\n * <pre>\r\n * Sensor Engine\r\n * for role Server\r\n * \r\n * version Hero\r\n * </pre>\r\n * \r\n * @class\r\n * @memberof st.ngn.ngnSYS_Hero\r\n * @implements st.ngn.SensorEngine\r\n */\r\nclass SnsEngineRef extends SensorEngine {\r\n\t\r\n\t/**\r\n\t * @constructs SnsEngineRef\r\n\t * \r\n\t * @param {object} config - Configuration object\r\n\t */\r\n\tconstructor(config) {\r\n\t\t\r\n\t\tsuper(config);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Initialize\r\n\t * \r\n\t * @override\r\n\t */\r\n\tinitialize() {\r\n\t\t// Overrides parent method...\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Main loop\r\n\t * \r\n\t * @override\r\n\t */\r\n\tmainLoop() {\r\n\t\t// Overrides parent method...\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n/**\r\n * Sensor reference\r\n * \r\n * <pre>\r\n * Sensor\r\n * for role Server\r\n * \r\n * version Hero\r\n * </pre>\r\n * \r\n * @class\r\n * @memberof st.ngn.ngnSYS_Hero\r\n * @implements st.ngn.Sensor\r\n */\r\nclass SensorRef extends Sensor {\r\n\t\r\n\t/**\r\n\t * @constructs SensorRef\r\n\t * \r\n\t * @param {object} config - Configuration object\r\n\r\n\t */\r\n\tconstructor(config) {\r\n\t\t\r\n\t\tsuper(config);\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize\r\n\t */\r\n\tinitialize() {\r\n\t\t\r\n\t\tlet sensor = this;\r\n\t\t\r\n\t\t// initialize sensor engine\r\n\t\tsensor.sensorEngine = new SnsEngineRef( sensor.config.sensorEngine );\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Start sensor\r\n\t */\r\n\tstart() {\r\n\r\n\t\tlet stSensor = this;\r\n\r\n\t\treturn new Promise(function(resolve, reject) {\r\n\r\n\t\t\tlet request = {\r\n\t\t\t\t\"sensorID\" : stSensor.config.sensorID,\r\n\t\t\t\t\"result\" : null\r\n\r\n\t\t\t};\r\n\r\n\t\t\t// Emit message StartSensor\r\n\t\t\tstSensor.config._controlSocket.emit(SensorsServices_CONSTANTS.Messages.StartSensor , request);\r\n\r\n\t\t\tresolve(request);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Stop sensor\r\n\t */\r\n\tstop() {\r\n\r\n\t\tlet stSensor = this;\r\n\r\n\t\treturn new Promise(function(resolve, reject) {\r\n\r\n\t\t\tlet request = {\r\n\t\t\t\t\"sensorID\" : stSensor.config.sensorID,\r\n\t\t\t\t\"result\" : null\r\n\r\n\t\t\t};\r\n\r\n\t\t\t// Emit message StopSensor\r\n\t\t\tstSensor.config._controlSocket.emit(SensorsServices_CONSTANTS.Messages.StopSensor , request);\r\n\t\t\tresolve(request);\r\n\t\t});\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Set sensor options\r\n\t * \r\n\t * @param {object} options - Options object\r\n\t */\r\n\tsetOptions(options){\r\n\t\t\r\n\t\tlet stSensor = this;\r\n\t\tlet socket = stSensor.config._controlSocket;\r\n\t\t\r\n\r\n\t\ttry {\r\n\t\t\t// Emit message setSensorOptions\r\n\t\t\tsocket.emit(SensorsServices_CONSTANTS.Messages.setSensorOptions,\r\n\t\t\t\t{\"sensorID\" : stSensor.config.sensorID, \"options\" : options});\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot send message setSensorOptions. \" + e;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n\r\n/**\r\n * Sensors manager\r\n * \r\n * <pre>\r\n * for role Server\r\n * \r\n * version Hero\r\n * </pre>\r\n * \r\n * @class\r\n * @memberof st.ngn.ngnSYS_Hero\r\n * @implements st.ngn.services.SensorsManager\r\n */\r\nclass NGSYS_Hero_Server_SensorsMNG extends SensorsManager {\r\n\t\r\n\t/**\r\n\t * @constructs NGSYS_Hero_Server_SensorsMNG\r\n\t */\r\n\tconstructor() {\r\n\t\t\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Returns Sensor searched by sysID\r\n\t * \r\n\t * @param {string} sysID - Sensor sysID\r\n\t */\r\n\tgetSensorBy_sysID(sysID) {\r\n\r\n\t\tlet smngr = this;\r\n\r\n\t\tlet sensor = null;\r\n\t\tlet _i = 0;\r\n\r\n\r\n\t\t_i = smngr.sensorsList.map(function(x) {return x.config._sysID; }).indexOf(sysID);\r\n\t\tif (_i !== -1) {\r\n\t\t\tsensor = smngr.sensorsList[_i];\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t\"stSensor\": sensor,\r\n\t\t\t\"position\": _i\r\n\t\t};\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Returns Sensors searched by nodeID\r\n\t * @param {string} nodeID - Node ID \r\n\t */\r\n\tgetSensorsByNode(nodeID) {\r\n\r\n\t\tlet smngr = this;\r\n\t\t\r\n\t\tlet sensors = smngr.sensorsList.filter(function(sensor, _i, _sensors) {\r\n\r\n\t\t\tif (sensor.config._refSTNodeID === nodeID) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\t\"numSensors\": sensors.length,\r\n\t\t\t\"sensors\": sensors\r\n\t\t};\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Add sensor\r\n\t * \r\n\t * @param {st.ngn.ngnSYS_Hero.SensorRef} sensor - SensorRef object\r\n\t */\r\n\taddSensor(sensor) {\r\n\t\t\r\n\t\tlet smng = this;\r\n\t\t\r\n\t\tlet sensorSearch = smng.getSensorBy_sysID(sensor.config._sysID);\r\n\t\t\r\n\t\tif (sensorSearch.stSensor !== null) {\r\n\t\t\tthrow \"Sensor sysID already exists.\";\r\n\t\t}\r\n\t\t\r\n\t\tsmng.sensorsList.push(sensor);\r\n\t\t\r\n\t\t// Emit message SensorAdded\r\n\t\tsmng.eventEmitter.emit(smng.CONSTANTS.Events.SensorAdded, sensor);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Add sensor from node\r\n\t * \r\n\t * @param {object} config - Configuration object\r\n\t * @param {object} options - Options object\r\n\t * @param {st.ngn.services.SensorsManager} [options.sensorsManager] - Sensors manager\r\n\t * @param {string} options.engine - Engine name\r\n\t */\r\n\taddSensorFromNode(config, options) {\r\n\t\t\r\n\t\tlet _smng = this;\r\n\t\t\r\n\t\tif (options === undefined ||\r\n\t\t\t\toptions === null) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\tif (options.sensorsManager !== undefined ) {\r\n\t\t\t_smng = options.sensorsManager;\r\n\t\t}\r\n\t\t\r\n\t\tlet _sensor = new SensorRef(config);\r\n\t\t_sensor.initialize();\r\n\t\t\r\n\t\tif (options.engine !== undefined) {\r\n\t\t\t_sensor.sensorEngine.name = options.engine;\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\t_smng.addSensor(_sensor);\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot add sensor. \" + e;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Turn off sensors of node\r\n\t * \r\n\t * @param {string} nodeID - Node ID\r\n\t * \r\n\t */\r\n\tturnOffSensorsOfNode(nodeID) {\r\n\t\t\r\n\t\tlet smng = this;\r\n//\t\tlet _nodeID = nodeID;\r\n\t\t\r\n\r\n\t\tlet sensorsSearch = smng.getSensorsByNode(nodeID);\r\n\t\t\r\n\t\tif (sensorsSearch.sensors !== null) {\r\n\t\t\t\r\n\t\t\t// Emit message TurnOffSensors\r\n\t\t\tsensorsSearch.sensors[0].config._controlSocket.emit(SensorsServices_CONSTANTS.Messages.TurnOffSensors);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tconsole.log(' <~> Node not found!!!');\t// TODO REMOVE DEBUG LOG\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n/**\r\n * Actuator engine reference\r\n * \r\n * <pre>\r\n * Actuator Engine\r\n * for role Server\r\n * \r\n * version Hero\r\n * </pre>\r\n * \r\n * @class\r\n * @memberof st.ngn.ngnSYS_Hero\r\n * @implements st.ngn.ActuatorEngine\r\n * \r\n */\r\nclass ActEngineRef extends ActuatorEngine {\r\n\t\r\n\t/**\r\n\t * @constructs ActEngineRef\r\n\t */\r\n\tconstructor(config) {\r\n\t\tsuper(config);\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize\r\n\t */\r\n\tinitialize() {\r\n\t\t// Overrides parent method...\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * MainLoop\r\n\t */\r\n\tmainLoop() {\r\n\t\t// Overrides parent method...\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n/**\r\n * Actuator reference\r\n * \r\n * <pre>\r\n * Actuator\r\n * for role Server\r\n * \r\n * version Hero\r\n * </pre>\r\n * \r\n * @class\r\n * @memberof st.ngn.ngnSYS_Hero\r\n * @implements st.ngn.Actuator\r\n * \r\n */\r\nclass ActuatorRef extends Actuator {\r\n\t\r\n\t/**\r\n\t * @constructs ActuatorRef\r\n\t */\r\n\tconstructor(config) {\r\n\t\t\r\n\t\tsuper(config);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t/**\r\n\t * Initialize\r\n\t */\r\n\tinitialize() {\r\n\t\t\r\n\t\tlet actuator = this;\r\n\t\t\r\n\t\t// initialize actuator engine\r\n\t\tactuator.actuatorEngine = new ActEngineRef( actuator.config.actuatorEngine );\r\n\t}\r\n\t\r\n\r\n\t/**\r\n\t * Start actuator\r\n\t */\r\n\tstart() {\r\n\r\n\t\tlet stActuator = this;\r\n\r\n\t\treturn new Promise(function(resolve, reject) {\r\n\r\n\t\t\tlet request = {\r\n\t\t\t\t\"actuatorID\" : stActuator.config.actuatorID,\r\n\t\t\t\t\"result\" : null\r\n\r\n\t\t\t};\r\n\r\n\t\t\t// Emit message StartActuator\r\n\t\t\tstActuator.config._controlSocket.emit(ActuatorsServices_CONSTANTS.Messages.StartActuator, request);\r\n\r\n\t\t\tresolve(request);\r\n\r\n\t\t});\r\n\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Stop actuator\r\n\t */\r\n\tstop() {\r\n\r\n\t\tlet stActuator = this;\r\n\r\n\t\treturn new Promise(function(resolve, reject) {\r\n\r\n\t\t\tlet request = {\r\n\t\t\t\t\"actuatorID\" : stActuator.config.actuatorID,\r\n\t\t\t\t\"result\" : null\r\n\r\n\t\t\t};\r\n\r\n\t\t\t// Emit message StopActuator\r\n\t\t\tstActuator.config._controlSocket.emit(ActuatorsServices_CONSTANTS.Messages.StopActuator, request);\r\n\t\t\tresolve(request);\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Set actuator options\r\n\t * \r\n\t * @param {object} options - Options object.\r\n\t */\r\n\tsetOptions(options){\r\n\t\t\r\n\t\tlet stActuator = this;\r\n\t\tlet socket = stActuator.config._controlSocket;\r\n\t\t\r\n\t\t// Emit message setActuatorOptions\r\n\t\tsocket.emit(ActuatorsServices_CONSTANTS.Messages.setActuatorOptions,\r\n\t\t\t\t{\"actuatorID\" : stActuator.config.actuatorID, \"options\" : options});\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n/**\r\n * Actuators manager\r\n * \r\n * <pre>\r\n * for role Server\r\n * \r\n * version Hero\r\n * </pre>\r\n * \r\n * @class\r\n * @memberof st.ngn.ngnSYS_Hero\r\n * @implements st.ngn.services.ActuatorsManager\r\n * \r\n */\r\nclass NGSYS_Hero_Server_ActuatorsMNG extends ActuatorsManager {\r\n\t\r\n\t/**\r\n\t * @constructs NGSYS_Hero_Server_ActuatorsMNG\r\n\t */\r\n\tconstructor() {\r\n\t\t\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Returns Actuator searched by sysID\r\n\t * \r\n\t * @param {string} actuatorID - Actuator ID\r\n\t */\r\n\tgetActuatorBy_sysID(actuatorID) {\r\n\r\n\t\tlet amng = this;\r\n\r\n\t\tlet actuator = null;\r\n\t\tlet _i = 0;\r\n\r\n\r\n\t\t_i = amng.actuatorsList.map(function(x) {return x.config._sysID; }).indexOf(actuatorID);\r\n\t\tif (_i !== -1) {\r\n\t\t\tactuator = amng.actuatorsList[_i];\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t\"stActuator\": actuator,\r\n\t\t\t\"position\": _i\r\n\t\t};\r\n\t\t\r\n\t}\r\n\r\n\t\r\n\t/**\r\n\t * Returns Actuators searched by nodeID\r\n\t * @param {string} nodeID - Node ID\r\n\t */\r\n\tgetActuatorsByNode(nodeID) {\r\n\r\n\t\tlet smngr = this;\r\n\t\t\r\n\t\tlet actuators = smngr.actuatorsList.filter(function(actuator, _i, _actuators) {\r\n\r\n\t\t\tif (actuator.config._refSTNodeID === nodeID) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\t\"numActuators\": actuators.length,\r\n\t\t\t\"actuators\": actuators\r\n\t\t};\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Add actuator\r\n\t * \r\n\t * @param {st.ngn.ngnSYS_Hero.ActuatorRef} actuator - ActuatorRef object\r\n\t */\r\n\taddActuator(actuator) {\r\n\t\t\r\n\t\tlet amng = this;\r\n\t\t\r\n\t\tlet actuatorSearch = amng.getActuatorBy_sysID(actuator.config._sysID);\r\n\t\t\r\n\t\tif (actuatorSearch.stActuator !== null) {\r\n\t\t\tthrow \"Actuator ID already exists.\";\r\n\t\t}\r\n\t\t\r\n\t\tamng.actuatorsList.push(actuator);\r\n\t\t\r\n\t\t// Emit message ActuatorAdded\r\n\t\tamng.eventEmitter.emit(amng.CONSTANTS.Events.ActuatorAdded, actuator);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Add actuator from node\r\n\t * \r\n\t * @param {object} config - Configuration object\r\n\t * @param {object} options - Options object\r\n\t * @param {st.ngn.services.ActuatorsManager} [options.actuatorsManager] - Actuators manager\r\n\t * @param {string} options.engine - Engine name\r\n\t * \r\n\t */\r\n\taddActuatorFromNode(config, options) {\r\n\t\t\r\n\t\tlet _amng = this;\r\n\t\t\r\n\t\tif (options === undefined ||\r\n\t\t\t\toptions === null) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\tif (options.actuatorsManager !== undefined ) {\r\n\t\t\t_amng = options.actuatorsManager;\r\n\t\t}\r\n\t\t\r\n\t\tlet _actuator = new ActuatorRef(config);\r\n\t\t_actuator.initialize();\r\n\t\t\r\n\t\tif (options.engine !== undefined) {\r\n\t\t\t_actuator.actuatorEngine.name = options.engine;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\t_amng.addActuator(_actuator);\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot add actuator. \" + e;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Turn off actuators of node\r\n\t * \r\n\t * @param {string} nodeID - Node ID\r\n\t */\r\n\tturnOffActuatorsOfNode(nodeID) {\r\n\t\t\r\n\t\tlet amngr = this;\r\n//\t\tlet _nodeID = nodeID;\r\n\t\t\r\n\t\tlet actuatorsSearch = amngr.getActuatorsByNode(nodeID);\r\n\t\t\r\n\t\tif (actuatorsSearch.actuators !== null) {\r\n\t\t\t\r\n\t\t\t// Emit message TurnOffActuators\r\n\t\t\tactuatorsSearch.actuators[0].config._controlSocket.emit(ActuatorsServices_CONSTANTS.Messages.TurnOffActuators);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tconsole.log(' <~> Node not found!!!');\t// TODO REMOVE DEBUG LOG\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n/**\r\n * Engines system\r\n * \r\n * <pre>\r\n * for role Server\r\n * \r\n * version Hero\r\n * </pre>\r\n * \r\n * @class\r\n * @memberof st.ngn.ngnSYS_Hero\r\n * @implements st.ngn.ngnSYS_Hero.NGSystem_Hero\r\n */\r\nclass NGSYS_Hero_Server extends NGSystem_Hero {\r\n\t\r\n\t/**\r\n\t * @constructs NGSYS_Hero_Server\r\n\t */\r\n\tconstructor(config) {\r\n\t\t\r\n\t\tsuper(config);\r\n\t\t\r\n\t\tlet ngSYS = this;\r\n\t\t\r\n\t\tngSYS.nodesManager = null;\r\n\t\tngSYS._scs_RouteEngines = null;\r\n\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize\r\n\t */\r\n\tinitialize() {\r\n\t\t\r\n\t\tsuper.initialize();\r\n\t\t\r\n\t\tlet ngSYS = this;\r\n\t\tlet config = ngSYS.config;\r\n\t\t\r\n\t\t\r\n\t\tif (config.nodesManager === undefined ||\r\n\t\t\t\tconfig.nodesManager === null) {\r\n\t\t\tthrow \"Nodes manager is required.\";\r\n\t\t}\r\n\t\t\r\n\t\tngSYS.nodesManager = config.nodesManager;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tngSYS._init_Nodes();\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot initialize Nodes. \" + e;\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tngSYS._init_Sensors();\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot initialize Sensors. \" + e;\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tngSYS._init_Actuators();\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot initialize Actuators. \" + e;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize nodes\r\n\t */\r\n\t_init_Nodes() {\r\n\t\t\r\n\t\tlet ngSYS = this;\r\n\t\tlet config = ngSYS.config;\r\n\t\tlet nodesManager = ngSYS.nodesManager;\r\n\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize sensors\r\n\t */\r\n\t_init_Sensors() {\r\n\t\t\r\n\t\tlet ngSYS = this;\r\n\t\tlet config = ngSYS.config;\r\n\t\t\r\n\t\t\r\n\t\tngSYS.sensorsManager = new NGSYS_Hero_Server_SensorsMNG();\r\n\t\t\r\n\t\tngSYS.sensorsServices = new NGSYS_Hero_Server_SensorsSRV(\r\n\t\t\t\tngSYS.sensorsManager, \r\n\t\t\t\tngSYS.controlChannel,\r\n\t\t\t\tngSYS.nodesManager\r\n\t\t\t\t);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tngSYS.sensorsServices.initialize();\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot initialize sensors services. \" + e;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize actuators\r\n\t */\r\n\t_init_Actuators() {\r\n\t\t\r\n\t\tlet ngSYS = this;\r\n\t\tlet config = ngSYS.config;\r\n\t\t\r\n\t\t\r\n\t\tngSYS.actuatorsManager = new NGSYS_Hero_Server_ActuatorsMNG();\r\n\t\t\r\n\t\tngSYS.actuatorsServices = new NGSYS_Hero_Server_ActuatorsSRV(\r\n\t\t\t\tngSYS.actuatorsManager, \r\n\t\t\t\tngSYS.controlChannel,\r\n\t\t\t\tngSYS.nodesManager\r\n\t\t\t\t);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tngSYS.actuatorsServices.initialize();\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot initialize actuators services. \" + e;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Get Server Control Services routes\r\n\t * for engines\r\n\t * \r\n\t * @param {object} options - Options object\r\n\t * \r\n\t */\r\n\tgetSCSRoutes(options) {\r\n\t\t\r\n\t\tlet ngSYS = this;\r\n\t\t\r\n\t\tif (options === undefined || \r\n\t\t\t\toptions === null) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\t\t\r\n\t\tif (options.ngSYS !== undefined) {\r\n\t\t\tngSYS = options.ngSYS;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tif (ngSYS._scs_RouteEngines === null) {\r\n\t\t\t\r\n\t\t\tlet SCS_RouteEngines = require('./scs_Routes/SCS_RouteEngines.js');\r\n\t\t\r\n\t\t\ttry {\r\n\t\t\t\tngSYS._scs_RouteEngines = new SCS_RouteEngines(ngSYS.sensorsManager, ngSYS.actuatorsManager);\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\tthrow \"Error in route engines.\" + e;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn ngSYS._scs_RouteEngines;\r\n\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n\r\n\r\n\r\nlet _Lib = {\r\n\t\t\"NGSYS_Hero_Server\" : NGSYS_Hero_Server\r\n};\r\n\r\n\r\nmodule.exports = _Lib;\r\n"],"sourceRoot":"C:\\Users\\Felipe\\Documents\\Work\\SomeThings\\dev\\NLVL_STEngines\\es6"}