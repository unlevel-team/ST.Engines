{"version":3,"sources":["stEngines/enginesSYS_Hero/ngsysHero_Node.js"],"names":[],"mappings":"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","file":"stEngines/enginesSYS_Hero/ngsysHero_Node.js","sourcesContent":["\"use strict\";\r\n\r\n/**\r\n * Engines System\r\n * for role Node\r\n * \r\n * \r\n * SomeThings Engines System library\r\n * version Hero\r\n */\r\n\r\n\r\n\r\nlet NGSystem_Hero_Lib = require('./enginesSYS_Hero.js');\r\nlet NGSystem_Hero_CONSTANTS = NGSystem_Hero_Lib.NGSystem_Hero_CONSTANTS;\r\nlet NGSystem_Hero = NGSystem_Hero_Lib.NGSystem_Hero;\r\n\r\nlet SensorsManager = require('../services/SensorsManager.js').SensorsManager;\r\nlet NGSYS_Hero_Node_SensorsSRV = require('./ngsysHero_NodeSensorsSRV.js').NGSYS_Hero_Node_SensorsSRV;\r\n\r\nlet ActuatorsManager = require('../services/ActuatorsManager.js').ActuatorsManager;\r\nlet NGSYS_Hero_Node_ActuatorsSRV = require('./ngsysHero_NodeActuatorsSRV.js').NGSYS_Hero_Node_ActuatorsSRV;\r\n\r\n\r\n/**\r\n * NGSYS_Hero_Node_SensorsMNG\r\n * \r\n * Sensors manager\r\n * for role Node\r\n * \r\n * SomeThings Engines System library\r\n * version Hero\r\n */\r\nclass NGSYS_Hero_Node_SensorsMNG extends SensorsManager {\r\n\t\r\n\tconstructor() {\r\n\t\t\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Add sensor\r\n\t * \r\n\t * @sensor Sensor object\r\n\t */\r\n\taddSensor(sensor) {\r\n\t\t\r\n\t\tsuper.addSensor(sensor);\r\n\t\r\n\t\tlet smng = this;\r\n\t\t\r\n\t\tif (sensor.config.type === NGSystem_Hero_CONSTANTS.Config.type_Cylonjs && \r\n\t\t\t\tsmng._cylonJS === undefined) {\r\n\t\t\t\r\n\t\t\t// Load CylonJS library\r\n\t\t\tsmng._cylonJS = require('cylon');\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Turn off sensors\r\n\t */\r\n\tturnOffSensors() {\r\n\t\t\r\n\t\tsuper.turnOffSensors();\r\n\t\t\r\n\t\tlet smng = this;\r\n\t\t\r\n\t\tif (smng._cylonJS !== undefined) {\r\n\t\t\tsmng._cylonJS.halt();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\r\n/**\r\n * NGSYS_Hero_Node_ActuatorsMNG\r\n * \r\n * Actuators manager\r\n * for role Node\r\n * \r\n * SomeThings Engines System library\r\n * version Hero\r\n */\r\nclass NGSYS_Hero_Node_ActuatorsMNG extends ActuatorsManager {\r\n\t\r\n\tconstructor() {\r\n\t\t\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Adds actuator\r\n\t * \r\n\t * @act Actuator object\r\n\t */\r\n\taddActuator(act) {\r\n\t\t\r\n\t\tsuper.addActuator(act);\r\n\t\t\r\n\t\tlet amng = this;\r\n\t\t\r\n\t\t\r\n\t\tif (act.config.type === NGSystem_Hero_CONSTANTS.Config.type_Cylonjs && \r\n\t\t\t\tamng._cylonJS === undefined) {\r\n\t\t\t\r\n\t\t\t// Load CylonJS library\r\n\t\t\tamng._cylonJS = require('cylon');\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Turn off actuators\r\n\t */\r\n\tturnOffActuators() {\r\n\t\t\r\n\t\tsuper.turnOffActuators();\r\n\t\t\r\n\t\tlet amng = this;\r\n\t\t\r\n\t\tif (amng._cylonJS !== undefined) {\r\n\t\t\tamng._cylonJS.halt();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\r\n/**\r\n * NGSYS_Hero_Node\r\n */\r\nclass NGSYS_Hero_Node extends NGSystem_Hero {\r\n\t\r\n\tconstructor(config) {\r\n\t\t\r\n\t\tsuper(config);\r\n\t}\r\n\t\r\n\t\r\n\tinitialize() {\r\n\t\t\r\n\t\tsuper.initialize();\r\n\t\t\r\n\t\tlet ngSYS = this;\r\n\t\tlet config = ngSYS.config;\r\n\t\t\r\n\t\tif (config.sensors === undefined) {\r\n\t\t\tthrow \"Sensors configuration is required.\";\r\n\t\t}\r\n\t\t\r\n\t\tif (config.actuators === undefined) {\r\n\t\t\tthrow \"Actuators configuration is required.\";\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tngSYS._init_Sensors();\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot initialize Sensors. \" + e;\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tngSYS._init_Actuators();\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot initialize Actuators. \" + e;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize sensors\r\n\t */\r\n\t_init_Sensors() {\r\n\t\t\r\n\t\tlet ngSYS = this;\r\n\t\tlet config = ngSYS.config;\r\n\t\t\r\n\t\t\r\n\t\tngSYS.sensorsManager = new NGSYS_Hero_Node_SensorsMNG();\r\n\t\t\r\n\t\tconfig.sensors.forEach(function(_sns, _i) {\r\n\t\t\tlet sensor = NGSystem_Hero_Lib.getSensor(_sns);\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tsensor.initialize();\r\n\t\t\t\tngSYS.sensorsManager.addSensor(sensor);\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\tthrow \"Cannot add sensor. \" + e;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tngSYS.sensorsServices = new NGSYS_Hero_Node_SensorsSRV(\r\n\t\t\t\tngSYS.sensorsManager, \r\n\t\t\t\tngSYS.controlChannel\r\n\t\t\t\t);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tngSYS.sensorsServices.initialize();\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot initialize sensors services. \" + e;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Initialize actuators\r\n\t */\r\n\t_init_Actuators() {\r\n\t\t\r\n\t\tlet ngSYS = this;\r\n\t\tlet config = ngSYS.config;\r\n\t\t\r\n\t\t\r\n\t\tngSYS.actuatorsManager = new NGSYS_Hero_Node_ActuatorsMNG();\r\n\t\t\r\n\t\tconfig.actuators.forEach(function(_act, _i) {\r\n\t\t\tlet actuator = NGSystem_Hero_Lib.getActuator(_act);\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tactuator.initialize();\r\n\t\t\t\tngSYS.actuatorsManager.addActuator(actuator);\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\tthrow \"Cannot add actuator. \" + e;\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tngSYS.actuatorsServices = new NGSYS_Hero_Node_ActuatorsSRV(\r\n\t\t\t\tngSYS.actuatorsManager, \r\n\t\t\t\tngSYS.controlChannel\r\n\t\t\t\t);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tngSYS.actuatorsServices.initialize();\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tthrow \"Cannot initialize actuators services. \" + e;\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\r\nlet ngysHeroNode_Lib = {\r\n\t\"NGSYS_Hero_Node\" : NGSYS_Hero_Node\r\n};\r\n\r\n\r\nmodule.exports = NGSYS_Hero_Node;\r\n"],"sourceRoot":"C:\\Users\\Felipe\\Documents\\Work\\SomeThings\\dev\\NLVL_STEngines\\es6"}