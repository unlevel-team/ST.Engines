{"version":3,"sources":["stEngines/Actuator.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;AAWA,IAAI,eAAe,QAAQ,QAAR,EAAkB,YAArC;;;;;AAMA,IAAM,qBAAqB;;AAE1B,WAAW;AACV,4BAA2B;AADjB;;AAFe,CAA3B;;;;;;IAaM,Q;AAEL,mBAAY,MAAZ,EAAoB;AAAA;;AAEnB,OAAK,MAAL,GAAc,MAAd;AACA,OAAK,SAAL,GAAiB,kBAAjB;AACA,OAAK,YAAL,GAAoB,IAAI,YAAJ,EAApB;AACA,OAAK,cAAL,GAAsB,IAAtB;AAEA;;;;+BAGY;;AAEZ,OAAI,MAAM,IAAV;;;;AAIA,OAAI,IAAI,MAAJ,CAAW,OAAX,CAAmB,iBAAnB,KAAyC,SAAzC,IACF,IAAI,MAAJ,CAAW,OAAX,CAAmB,iBAAnB,KAAyC,IAD3C,EACiD;;AAEhD,QAAI,eAAJ,GAAsB,IAAtB;;AAEA,QAAI;AACH,SAAI,eAAJ,GAAsB,QAAQ,IAAI,MAAJ,CAAW,OAAX,CAAmB,iBAA3B,CAAtB;AACA,SAAI,cAAJ,GAAqB,IAAI,IAAI,eAAR,CAAwB,IAAI,MAA5B,CAArB;AACA,SAAI,cAAJ,CAAmB,UAAnB;AAEA,KALD,CAKE,OAAO,CAAP,EAAU;;AAET,aAAQ,GAAR,CAAY,2BAAZ,E;AACA,aAAQ,GAAR,CAAY,CAAZ,E;AACF;AACD;;AAED;;;;;;;;;;;+BASY;;AAEZ,OAAI,MAAM,IAAV;;AAEA,OAAI,aAAa;AAChB,gBAAa,IAAI,MAAJ,CAAW,QADR;AAEhB,yBAAqB,IAAI,MAAJ,CAAW,OAAX,CAAmB;;AAFxB,IAAjB;;AAMA,OAAK,IAAI,cAAJ,KAAuB,IAA5B,EAAmC;AAClC,eAAW,aAAX,GAA2B,IAAI,cAAJ,CAAmB,UAAnB,EAA3B;AACA;;AAGD,UAAO,UAAP;AACA;;;;;;;;;;6BAQU,O,EAAQ;;AAElB,OAAI,MAAM,IAAV;;AAEA,OAAI,IAAI,cAAJ,IACF,IAAI,cAAJ,CAAmB,KAAnB,KAA6B,IAAI,cAAJ,CAAmB,SAAnB,CAA6B,MAA7B,CAAoC,aADnE,EACkF;AACjF,UAAM,qBAAN;AACA;;AAED,OAAI,QAAQ,QAAZ,EAAsB;AACrB,QAAI,MAAJ,CAAW,QAAX,GAAsB,QAAQ,QAA9B;AACA;;AAED,OAAI,QAAQ,aAAZ,EAA2B;AAC1B,QAAI,cAAJ,CAAmB,UAAnB,CAA8B,QAAQ,aAAtC;AACA;;AAED,OAAI,YAAJ,CAAiB,IAAjB,CAAsB,IAAI,SAAJ,CAAc,MAAd,CAAqB,sBAA3C,EAAmE,EAAC,YAAY,GAAb,EAAnE;AACA;;;;;;AAMF,OAAO,OAAP,GAAiB,QAAjB","file":"stEngines/Actuator.js","sourcesContent":["\"use strict\";\r\n\r\n/**\r\n * Actuator\r\n * \r\n * Generic object for an Actuator\r\n * \r\n * ... the actuator process is manager by the ActutatorEngine\r\n * \r\n */\r\n\r\nlet EventEmitter = require('events').EventEmitter;\r\n\r\n\r\n/**\r\n * Actuator CONSTANTS\r\n */\r\nconst Actuator_CONSTANTS = {\r\n\r\n\t\"Events\" : {\r\n\t\t\"ActuatorOptionsUpdated\" : \"Actuator Options Updated\"\r\n\t}\r\n\r\n};\r\n\r\n\r\n\r\n/**\r\n * Actuator\r\n */\r\nclass Actuator {\r\n\t\r\n\tconstructor(config) {\r\n\t\t\r\n\t\tthis.config = config;\r\n\t\tthis.CONSTANTS = Actuator_CONSTANTS;\r\n\t\tthis.eventEmitter = new EventEmitter();\r\n\t\tthis.actuatorEngine = null;\r\n\r\n\t}\r\n\t\r\n\t\r\n\tinitialize() {\r\n\t\t\r\n\t\tlet act = this;\r\n\t\t\r\n\t\t// ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ _ ~~~ - ~~~ - ~~~ - ~~~ _ ~~~ - ~~~ - ~~~ \\/ ~~~\r\n\t\t// Actuator Engine URL \r\n\t\tif (act.config.options.actuatorEngineURL !== undefined && \r\n\t\t\t\tact.config.options.actuatorEngineURL !== null) {\r\n\t\t\t\r\n\t\t\tact._actuatorEngine = null;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\tact._actuatorEngine = require(act.config.options.actuatorEngineURL);\r\n\t\t\t\tact.actuatorEngine = new act._actuatorEngine(act.config);\r\n\t\t\t\tact.actuatorEngine.initialize();\r\n\t\t\t\t\r\n\t\t\t} catch (e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\t  console.log('<EEE> Actuator.initialize');\t// TODO REMOVE DEBUG LOG\r\n\t\t\t\t  console.log(e);\t// TODO REMOVE DEBUG LOG\r\n\t\t\t}\r\n\t\t} \r\n\t\t// ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ - ~~~ _ ~~~ - ~~~ - ~~~ - ~~~ _ ~~~ - ~~~ - ~~~ /\\ ~~~\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Returns Actuator options\r\n\t * \r\n\t * also includes the actuator engine options\r\n\t * \r\n\t */\r\n\tgetOptions() {\r\n\t\t\r\n\t\tlet act = this;\r\n\t\t\r\n\t\tlet actOptions = {\r\n\t\t\t\"loopTime\" : act.config.loopTime,\r\n\t\t\t\"actuatorEngineURL\": act.config.options.actuatorEngineURL\r\n\t\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\tif ( act.actuatorEngine !== null ) {\r\n\t\t\tactOptions.engineOptions = act.actuatorEngine.getOptions();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn actOptions;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Set actuator options\r\n\t * \r\n\t * also includes the actuator engine options\r\n\t */\r\n\tsetOptions(options){\r\n\t\t\r\n\t\tlet act = this;\r\n\t\t\r\n\t\tif (act.actuatorEngine && \r\n\t\t\t\tact.actuatorEngine.state === act.actuatorEngine.CONSTANTS.States.State_Working) {\r\n\t\t\tthrow \"Bad actuator state.\";\r\n\t\t}\r\n\t\t\r\n\t\tif (options.loopTime) {\r\n\t\t\tact.config.loopTime = options.loopTime;\r\n\t\t}\r\n\t\t\r\n\t\tif (options.engineOptions) {\r\n\t\t\tact.actuatorEngine.setOptions(options.engineOptions);\r\n\t\t}\r\n\t\t\r\n\t\tact.eventEmitter.emit(act.CONSTANTS.Events.ActuatorOptionsUpdated, {\"actuator\": act});\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n\r\nmodule.exports = Actuator;\r\n"],"sourceRoot":"C:\\Users\\Felipe\\Documents\\Work\\SomeThings\\dev\\NLVL_STEngines\\es6"}