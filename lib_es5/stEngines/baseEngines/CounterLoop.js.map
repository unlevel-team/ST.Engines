{"version":3,"sources":["stEngines/baseEngines/CounterLoop.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;AAaA,IAAI,aAAa,QAAQ,iBAAR,EAA2B,UAA5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,IAAM,wBAAwB;AAC7B,WAAW;AACV,iBAAe,aADL;AAEV,gBAAc;;AAFJ;AADkB,CAA9B;;;;;;;;;;;;;;;;;;IAyBM,W;;;;;;;;;;AAQL,sBAAY,MAAZ,EAAoB;AAAA;;AAAA,6FAEb,MAFa;;AAInB,MAAI,YAAJ;;AAEA,OAAK,QAAL,GAAgB,CAAhB;AACA,OAAK,QAAL,GAAgB,CAAhB;;AAEA,OAAK,UAAL,GAAkB,qBAAlB;;AATmB;AAYnB;;;;+BAIY;;AAEZ;;AAEA,OAAI,OAAO,IAAX;;;AAGA,QAAK,YAAL,CAAkB,EAAlB,CAAsB,YAAY,SAAZ,CAAsB,MAAtB,CAA6B,aAAnD,EAAkE,UAAS,IAAT,EAAe;;AAEhF,SAAK,kBAAL,CAAwB;AACvB,eAAU;AADa,KAAxB;AAGA,IALD;AAOA;;;qCAGkB,O,EAAS;;AAE3B,OAAI,YAAY,SAAhB,EAA2B;AAC1B,cAAU,EAAV;AACA;;AAED,OAAI,OAAO,IAAX;AACA,OAAI,QAAQ,MAAR,KAAmB,IAAvB,EAA6B;AAC5B,WAAO,QAAQ,MAAf;AACA;;AAED,OAAI,aAAa,KAAK,MAAtB;;AAEA,OAAI,KAAK,QAAL,GAAgB,WAAW,KAA/B,EAAsC;AACpC,SAAK,QAAL;AACD,IAFD,MAEO;AACN,SAAK,QAAL,GAAgB,CAAhB;;AAGA,QAAI,KAAK,QAAL,GAAgB,WAAW,UAA/B,EAA2C;AAC1C,UAAK,QAAL;;;AAGA,UAAK,YAAL,CAAkB,IAAlB,CAAwB,KAAK,UAAL,CAAgB,MAAhB,CAAuB,WAA/C,EACE;AACC,iBAAW,KAAK,QADjB;AAEC,gBAAU;AAFX,MADF;AAMA,KAVD,MAUO;AACN,UAAK,QAAL,GAAgB,CAAhB;;;AAGA,UAAK,YAAL,CAAkB,IAAlB,CAAwB,KAAK,UAAL,CAAgB,MAAhB,CAAuB,UAA/C,EACE;AACC,oBAAc,WAAW,UAD1B;AAEC,gBAAU;AAFX,MADF;AAMA;AACD;AAED;;;;EAnFwB,U;;AA0F1B,IAAI,OAAO;AACV,gBAAgB;;AADN,CAAX;;AAMA,OAAO,OAAP,GAAiB,IAAjB","file":"stEngines/baseEngines/CounterLoop.js","sourcesContent":["\"use strict\";\r\n\r\n/**\r\n * Counter Loop engine\r\n * \r\n * \r\n */\r\n\r\n\r\n/**\r\n * Import SimpleLoop\r\n * @ignore\r\n */\r\nlet SimpleLoop = require('./SimpleLoop.js').SimpleLoop;\r\n\r\n\r\n/**\r\n * CounterLoop configuration object.\r\n * \r\n * @typedef {Object} Config\r\n * @memberof st.ngn.baseEngines.CounterLoop\r\n * @implements st.ngn.baseEngines.SimpleLoop\r\n * \r\n * @type Object\r\n * @property {number} ticks - Main loop ticks for counter.\r\n * @property {number} maxLoopNum - Maximum number of loops to count.\r\n */\r\n\r\n\r\n\r\n/**\r\n * LoopCount event.\r\n *\r\n * @event st.ngn.baseEngines.CounterLoop#LoopCount\r\n * @memberof st.ngn.baseEngines.CounterLoop\r\n * @type {object}\r\n * \r\n * @property {number} loopNum - The number of loops.\r\n * @property {st.ngn.BaseEngine} engine - The engine of the counter loop.\r\n * \r\n */\r\n\r\n\r\n/**\r\n * BaseEngine CONSTANTS\r\n * \r\n * @memberof st.ngn.baseEngines.CounterLoop\r\n */\r\n\r\nconst CounterLoop_CONSTANTS = {\r\n\t'Events' : {\r\n\t\t'CounterLoop': 'counterLoop',\r\n\t\t'CounterMax': 'counterMax'\r\n\r\n\t\t\r\n\t}\t\r\n};\r\n\r\n\r\n/**\r\n * CounterLoop\r\n * <pre>\r\n * \r\n * </pre>\r\n * \r\n * \r\n * @class\r\n * @memberof st.ngn.baseEngines\r\n * @implements st.ngn.baseEngines.SimpleLoop\r\n * \r\n * @property {number} _loopNum - Number of loops\r\n * @property {number} _tickNum - Number of ticks\r\n * \r\n */\r\nclass CounterLoop extends SimpleLoop {\r\n\r\n\t/**\r\n\t * \r\n\t * @constructs CounterLoop\r\n\t * \r\n\t * @param {st.ngn.baseEngines.CounterLoop.Config} config - Configuration object\r\n\t */\r\n\tconstructor(config) {\r\n\t\t\r\n\t\tsuper(config);\r\n\t\t\r\n\t\tlet _ngn = this;\r\n\t\t\r\n\t\t_ngn._loopNum = 0;\r\n\t\t_ngn._tickNum = 0;\r\n\t\t\r\n\t\t_ngn._CONSTANTS = CounterLoop_CONSTANTS;\r\n\t\t\r\n\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tinitialize() {\r\n\t\t\r\n\t\tsuper.initialize();\r\n\t\t\r\n\t\tlet _ngn = this;\r\n\t\t\r\n\t\t// Map event MainLoop_Tick\r\n\t\t_ngn.eventEmitter.on( _baseEngine.CONSTANTS.Events.MainLoop_Tick, function(data) {\r\n\t\t\t\r\n\t\t\t_ngn._processEngineTick({\r\n\t\t\t\t'engine': _ngn\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t}\r\n\t\r\n\t\r\n\t_processEngineTick(options) {\r\n\t\t\r\n\t\tif (options === undefined) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\r\n\t\tlet _ngn = this;\r\n\t\tif (options.engine !== null) {\r\n\t\t\t_ngn = options.engine;\r\n\t\t}\r\n\t\t\r\n\t\tlet _ngnConfig = _ngn.config;\r\n\t\t\r\n\t\tif (_ngn._tickNum < _ngnConfig.ticks) {\r\n\t\t\t\t_ngn._tickNum++;\r\n\t\t} else {\r\n\t\t\t_ngn._tickNum = 0;\r\n\t\t\t\r\n\t\t\t  \r\n\t\t\tif (_ngn._loopNum < _ngnConfig.maxLoopNum) {\r\n\t\t\t\t_ngn._loopNum++;\r\n\t\t\t\t\r\n\t\t\t\t// Emit event CounterLoop\r\n\t\t\t\t_ngn.eventEmitter.emit(\t_ngn._CONSTANTS.Events.CounterLoop,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'loopNum': _ngn._loopNum,\r\n\t\t\t\t\t\t\t'engine': _ngn\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\t_ngn._loopNum = 0;\r\n\t\t\t\t\r\n\t\t\t\t// Emit event CounterMax\r\n\t\t\t\t_ngn.eventEmitter.emit(\t_ngn._CONSTANTS.Events.CounterMax,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'maxLoopNum': _ngnConfig.maxLoopNum,\r\n\t\t\t\t\t\t\t'engine': _ngn\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\n\r\nlet _lib = {\r\n\t\"CounterLoop\" : CounterLoop\r\n\t\t\r\n};\r\n\r\n\r\nmodule.exports = _lib;\r\n\r\n"],"sourceRoot":"C:\\Users\\Felipe\\Documents\\Work\\SomeThings\\dev\\NLVL_STEngines\\es6"}